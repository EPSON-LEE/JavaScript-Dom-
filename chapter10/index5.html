<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>用JavaScript实现动画效果</title>
</head>
<body>
  <p id="message" > whee! </p>
  <p id="message2"> whoa! </p>
<script type="text/javascript">
  function moveElement(elementID,final_x,final_y,interval){
      if(!document.getElementById) return false;
      if(!document.getElementById(elementID)) return false;
      var elem = document.getElementById(elementID);
      var xpos = parseInt(elem.style.left);
      var ypos = parseInt(elem.style.top);
      if(xpos == final_x && ypos == final_y){
        return true;
      }
      if(xpos < final_x){
        xpos++;
      }
      if(xpos > final_x){
        xpos--;
      }
      if(ypos < final_y){
        ypos++;
      }
      if(ypos > final_y){
        ypos--;
      }
      elem.style.left = xpos + "px";
      elem.style.top = ypos + "px";
      /*添加参数*/
      var repeat = "moveElement('"+ elementID + "' , "+ final_x +"," + final_y + " , " +  interval + ")";
      movement = setTimeout(repeat,interval);
  }
  /*动态设置标签的位置*/
  function positionMessage () {
    /*第一段标签*/
    if(!document.getElementById) return false;
    if(!document.getElementById("message")) return false;
    var elem = document.getElementById("message");
    elem.style.position = 'absolute';
    elem.style.left = "50px";
    elem.style.top = "100px";
    moveElement("message",125,25,20);
    /*第二段标签*/
    if(!document.getElementById) return false;
    if(!document.getElementById("message2")) return false;
    var elem = document.getElementById('message2');
    elem.style.position = 'absolute';
    elem.style.left = "50px";
    elem.style.top = "50px";
    moveElement("message2",125,125,20);
  }
  function addLoadEvent(func){
    var oldEvent = window.onload;
    if(typeof(oldEvent) != 'function'){
      window.onload = func();
    }else{
      window.onload = function(){
        oldEvent();
        func();
      }
    }
  }
  addLoadEvent(positionMessage);
</script>
</body>
</html>